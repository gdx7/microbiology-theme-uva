backend:
  name: github
  repo: gdx7/microbiology-theme-uva
  branch: main
  base_url: https://microbiology-theme-uva.vercel.app
  auth_endpoint: /api/auth/github/authorize

# Using GitHub backend with custom OAuth handler
# Users authenticate with their GitHub accounts
# Just add collaborators to the repository to grant access

# For local development, uncomment this:
# local_backend: true

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  # Research Group Pages
  - name: "research-groups"
    label: "Research Groups"
    folder: "content/research-groups"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Group Slug", name: "slug", widget: "string", hint: "URL-friendly identifier (e.g., 'zhang', 'wortel')" }
      - { label: "Group Name", name: "name", widget: "string" }
      - { label: "Group Code", name: "code", widget: "string", hint: "Short code (e.g., 'GL', 'ESB')" }
      - { label: "Research Area", name: "areaSlug", widget: "select", options: ["molecular-biology-microbial-food-safety", "bacterial-cell-biology", "microbiome-engineering", "core-facilities", "cross-theme-expertise"] }
      - { label: "Principal Investigator", name: "pi", widget: "string" }
      - { label: "PI Role", name: "role", widget: "string", default: "Principal Investigator" }
      - { label: "Contact Email", name: "contactEmail", widget: "string", required: false }
      - { label: "External URL", name: "externalUrl", widget: "string", required: false }
      - { label: "Short Description", name: "shortDescription", widget: "text", hint: "Brief one-liner for cards" }
      - { label: "Full Description", name: "description", widget: "markdown" }
      - { label: "Research Focus Areas", name: "researchFocus", widget: "list", required: false }
      - { label: "Keywords", name: "keywords", widget: "list", required: false }
      - label: "Team Members"
        name: "teamMembers"
        widget: "list"
        required: false
        fields:
          - { label: "Name", name: "name", widget: "string" }
          - { label: "Role", name: "role", widget: "string" }
          - { label: "Email", name: "email", widget: "string", required: false }
          - { label: "Photo", name: "photo", widget: "image", required: false }
          - { label: "Bio", name: "bio", widget: "text", required: false }
      - label: "Publications (Recent)"
        name: "publications"
        widget: "list"
        required: false
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Authors", name: "authors", widget: "string" }
          - { label: "Journal", name: "journal", widget: "string" }
          - { label: "Year", name: "year", widget: "number" }
          - { label: "Link", name: "link", widget: "string", required: false }

  # News Items
  - name: "news"
    label: "News"
    folder: "content/news"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Tag", name: "tag", widget: "string", hint: "e.g., 'Publication', 'Award', 'Event'" }
      - { label: "Description", name: "description", widget: "text", hint: "Short description for news rotator" }
      - { label: "Full Content", name: "body", widget: "markdown", required: false }
      - { label: "External Link", name: "link", widget: "string", required: false }
      - { label: "Featured Image", name: "image", widget: "image", required: false }
      - { label: "Show in Rotator", name: "featured", widget: "boolean", default: true }

  # People/Principal Investigators
  - name: "people"
    label: "People"
    folder: "content/people"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Name", name: "name", widget: "string" }
      - { label: "Role", name: "role", widget: "string", hint: "e.g., 'Principal Investigator', 'Postdoc'" }
      - { label: "Research Group", name: "group", widget: "string" }
      - { label: "Email", name: "email", widget: "string", required: false }
      - { label: "Photo", name: "photo", widget: "image", required: false }
      - { label: "Bio", name: "bio", widget: "markdown", required: false }
      - { label: "Website", name: "website", widget: "string", required: false }
      - { label: "ORCID", name: "orcid", widget: "string", required: false }
      - { label: "Google Scholar", name: "googleScholar", widget: "string", required: false }
