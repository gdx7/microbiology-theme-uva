backend:
  name: github
  repo: gdx7/microbiology-theme-uva
  branch: main
  base_url: https://microbiology-theme-uva.vercel.app
  auth_endpoint: /api/auth/github/authorize

# Using GitHub backend with custom OAuth handler
# Users authenticate with their GitHub accounts
# Just add collaborators to the repository to grant access

# OAuth is handled by Vercel serverless functions
# Environment variables: GITHUB_OAUTH_CLIENT_ID and GITHUB_OAUTH_CLIENT_SECRET

# For local development, uncomment this:
# local_backend: true

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  # Research Group Pages
  - name: "research-groups"
    label: "Research Groups"
    folder: "content/research-groups"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Group Slug", name: "slug", widget: "string", hint: "URL-friendly identifier (e.g., 'zhang', 'wortel')" }
      - { label: "Group Name", name: "name", widget: "string" }
      - { label: "Group Code", name: "code", widget: "string", hint: "Short code (e.g., 'GL', 'ESB')" }
      - { label: "Research Area", name: "areaSlug", widget: "select", options: ["molecular-biology-microbial-food-safety", "bacterial-cell-biology", "microbiome-engineering", "core-facilities", "cross-theme-expertise"] }
      - { label: "Principal Investigator", name: "pi", widget: "string" }
      - { label: "PI Role", name: "role", widget: "string", default: "Principal Investigator" }
      - { label: "Contact Email", name: "contactEmail", widget: "string", required: false }
      - { label: "External URL", name: "externalUrl", widget: "string", required: false }
      - { label: "Short Description", name: "shortDescription", widget: "text", hint: "Brief one-liner for cards" }
      - { label: "Full Description (Lead)", name: "description", widget: "markdown", hint: "Main intro paragraph" }
      - { label: "What We Do", name: "whatWeDo", widget: "markdown", required: false, hint: "Detailed description of research focus" }
      - { label: "How We Do It - Experimental", name: "howWeDoItExperimental", widget: "markdown", required: false }
      - { label: "How We Do It - Computational", name: "howWeDoItComputational", widget: "markdown", required: false }
      - { label: "Lab Culture", name: "labCulture", widget: "markdown", required: false }
      - { label: "Research Focus Areas", name: "researchFocus", widget: "list", required: false }
      - { label: "Keywords", name: "keywords", widget: "list", required: false }
      - label: "Team Members"
        name: "teamMembers"
        widget: "list"
        required: false
        fields:
          - { label: "Name", name: "name", widget: "string" }
          - { label: "Role", name: "role", widget: "string" }
          - { label: "Email", name: "email", widget: "string", required: false }
          - { label: "Photo", name: "photo", widget: "image", required: false }
          - { label: "Bio", name: "bio", widget: "text", required: false }
      - label: "Publications (Recent)"
        name: "publications"
        widget: "list"
        required: false
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Authors", name: "authors", widget: "string" }
          - { label: "Journal", name: "journal", widget: "string" }
          - { label: "Year", name: "year", widget: "number" }
          - { label: "Link", name: "link", widget: "string", required: false }

  # News Items
  - name: "news"
    label: "News"
    folder: "content/news"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Tag", name: "tag", widget: "string", hint: "e.g., 'Publication', 'Award', 'Event'" }
      - { label: "Description", name: "description", widget: "text", hint: "Short description for news rotator" }
      - { label: "Full Content", name: "body", widget: "markdown", required: false }
      - { label: "External Link", name: "link", widget: "string", required: false }
      - { label: "Featured Image", name: "image", widget: "image", required: false }
      - { label: "Show in Rotator", name: "featured", widget: "boolean", default: true }

  # People/Principal Investigators
  - name: "people"
    label: "People"
    folder: "content/people"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Name", name: "name", widget: "string" }
      - { label: "Role", name: "role", widget: "string", hint: "e.g., 'Principal Investigator', 'Postdoc'" }
      - { label: "Research Group", name: "group", widget: "string" }
      - { label: "Email", name: "email", widget: "string", required: false }
      - { label: "Photo", name: "photo", widget: "image", required: false }
      - { label: "Bio", name: "bio", widget: "markdown", required: false }
      - { label: "Website", name: "website", widget: "string", required: false }
      - { label: "ORCID", name: "orcid", widget: "string", required: false }
      - { label: "Google Scholar", name: "googleScholar", widget: "string", required: false }

  # Seminars
  - name: "seminars"
    label: "Seminars"
    folder: "content/seminars"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string", hint: "Seminar title" }
      - { label: "Date", name: "date", widget: "datetime", hint: "Date and time of the seminar" }
      - { label: "Time", name: "time", widget: "string", required: false, hint: "e.g., '14:00-15:00' (if not in Date field)" }
      - { label: "Speaker", name: "speaker", widget: "string", hint: "Speaker name" }
      - { label: "Affiliation", name: "affiliation", widget: "string", required: false, hint: "Speaker's institution" }
      - { label: "Location", name: "location", widget: "string", required: false, hint: "Room/building" }
      - { label: "Description", name: "description", widget: "text", required: false, hint: "Short description of the talk" }
      - { label: "Link", name: "link", widget: "string", required: false, hint: "Link to more information or registration" }

  # Publications
  - name: "publications"
    label: "Publications"
    folder: "content/publications"
    create: true
    slug: "{{year}}-{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Authors", name: "authors", widget: "string", hint: "All authors, e.g., 'Smith J, Jones A, Zhang L'" }
      - { label: "Journal", name: "journal", widget: "string" }
      - { label: "Year", name: "year", widget: "number" }
      - { label: "DOI", name: "doi", widget: "string", required: false, hint: "e.g., '10.1038/s41586-021-03819-2'" }
      - { label: "Link", name: "link", widget: "string", required: false, hint: "Direct link to paper" }
      - { label: "Abstract", name: "abstract", widget: "text", required: false, hint: "Brief abstract or summary" }
      - { label: "Research Group", name: "groupSlug", widget: "string", required: false, hint: "Group slug (e.g., 'zhang', 'wortel')" }
      - { label: "Featured", name: "featured", widget: "boolean", default: false, hint: "Show as featured publication" }
